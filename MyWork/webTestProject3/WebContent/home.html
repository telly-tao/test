<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>主页</title>
		<style type="text/css">
			fieldset {
				width: 700px;
				height: auto;
				margin-left: 25%;
			}

			.d {
				text-align: left;
				font-size: 18px;
			}

			table {
				width: 700px;
				height: 400px;
				border: solid 1px black;
			}

			.d table td,
			th {
				height: 10px;
				border: solid 1px black;
				text-align: center;
			}
		</style>
		<script src="./js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			function submit(){
				$.ajax({
					url : "/webTestProject3/home",
					type :"post",
					data : {
						username : $("#username").val(),
					},
					dataType : "json",
					success : function (data){
						if(data.success){
							var data1 = JSON.parse(data.message);
							 alert(data1[0].username);
							 var trid=0;
							 $.each(data1,function(){
								 trid++;
								 var addstring = "<tr id='trid"+trid+"'><td>" + this.username + "</td><td>" + this.password+ "</td><td>" +
								 this.sex + "</td><td>" + this.jg + "</td><td>" + this.love + "</td><td>" + this.jianjie + "</td></tr>";
								$(addstring).appendTo("table"); 
							 });
							
						}else{
							alert(data.message);
							alert("fail:"+data.message);
						}
						
					},
					error : function (e){
						alert("error:"+e);
					}
					
				});
			}
		</script>
	</head>
	<body>
		
		<input type="text" name="username" id="username"></input>
		<input type="submit" onclick="submit()"></input>
		
		<fieldset>
			<legend>注册信息</legend>
			<div class="d">
				<table>
					<tr><th>账号</th><th>密码</th><th>性别</th><th>籍贯</th><th>爱好</th><th>简介</th></tr>
					<tr><td>${item.username}</td><td>${item.password}</td><td>${item.sex}</td><td>${item.jg}</td><td>${item.love}</td><th>${item.jianjie}</th></tr>
				</table>
			</div>
		</fieldset>
	</body>
</html>
